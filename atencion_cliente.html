<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Atención al Cliente - Urban Vibe</title>
  <link rel="icon" href="img/favicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Monserat', sans-serif;
      margin: 0;
      padding-top: 120px;
      line-height: 1.6;
      color: #222;
      background-color: #f9f9f9;
    }

    h2 {
      text-align: center;
      letter-spacing: 1px;
      margin-bottom: 20px;
    }

    section {
      padding: 40px 20px;
      max-width: 1000px;
      margin: 0 auto 40px auto;
    }

    .formulario {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      margin-top: 20px;
      align-items: flex-start;
    }

    .formulario div {
      flex: 1;
      min-width: 250px;
    }

    form {
      flex: 1;
      min-width: 280px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    input,
    textarea {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
      resize: vertical;
    }

    button {
      padding: 10px;
      background-color: #000;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #444;
    }

    .faq-columns {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
    }

    .faq-columns div {
      flex: 1 1 45%;
    }



    p {
      margin: 10px 0;
    }

    @keyframes fadeUpSoft {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }


    section {
      animation: fadeUpSoft 0.6s ease-out;
    }
  </style>
</head>

<body>

  <!-- Header cargado dinámicamente -->
  <div id="header"></div>

  <!-- Carrito fijo en la esquina superior derecha con animación suave -->
  <div id="carritoIcono" class="position-fixed animate-carrito" style="top: 27px; right: 45px; z-index: 1050;">
    <a href="#" class="position-relative text-decoration-none" data-bs-toggle="offcanvas"
      data-bs-target="#carritoOffcanvas">
      <i class="bi bi-bag-fill text-white fs-4"></i>
      <span id="cart-count" class="position-absolute start-100 badge rounded-pill bg-danger"
        style="top: -6px; transform: translate(-45%, -46%);">
        0
      </span>
    </a>
  </div>



  <!-- OFFCANVAS DEL CARRITO -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="carritoOffcanvas">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title">
        <i class="bi bi-bag-fill me-3"></i>
        Mi Carrito de Compras
      </h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
      <!-- CONTENIDO DEL CARRITO -->
      <div id="cart-items"></div>

      <!-- RESUMEN DEL CARRITO -->
      <div id="cart-summary" class="cart-summary" style="display: none;">
        <div class="d-flex justify-content-between mb-2">
          <span>Subtotal:</span>
          <span id="cart-subtotal">S/ 0.00</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>Envío:</span>
          <span class="text-success">Gratis</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between cart-total">
          <span>Total:</span>
          <span id="cart-total">S/ 0.00</span>
        </div>
        <button class="checkout-btn mt-3" onclick="procederAlPago()">
          <i class="fas fa-credit-card me-2"></i>
          Proceder al Pago
        </button>
        <button class="btn btn-outline-secondary w-100 mt-2" onclick="vaciarCarrito()">
          <i class="fas fa-trash me-2"></i>
          Vaciar Carrito
        </button>
      </div>
    </div>
  </div>


  <!-- Sección: Atención al Cliente -->
  <section class="contacto">
    <h2 class="mb-5 " style="letter-spacing: 8px; font-weight: bolder;">ATENCIÓN AL CLIENTE </h2>
    <br><br>
    <p>
      En nuestra tienda, la atención al cliente es inclusiva y accesible para todos.
      Si tienes discapacidad auditiva, puedes comunicarte con nosotros a través de mensajes de texto,
      correo electrónico o chat en línea. Nuestro equipo está capacitado para brindarte una respuesta clara,
      rápida y respetuosa. También contamos con videos informativos con subtítulos y estamos trabajando
      para ofrecer atención en Lengua de Señas. Tu comodidad y confianza son lo más importante para nosotros.
    </p>

    <div class="formulario">
      <div>
        <br>
        <p><strong>¿Tienes alguna pregunta?</strong><br>¡Estamos aquí para ayudarte!</p>
        <br>
        <p><strong>Llámanos al:</strong><br>914-123-456</p>
        <br>
        <p><strong>Email:</strong><br>info@urbanvibe.com</p>
      </div>

      <form>
        <input type="text" placeholder="Nombre" required>
        <input type="email" placeholder="Email" required>
        <input type="tel" placeholder="Teléfono">
        <textarea rows="5" placeholder="Escribe tu mensaje aquí..." required></textarea>
        <button type="submit">Enviar</button>
      </form>
    </div>
  </section>

  <!-- Separador -->
  <hr style="width: 90%; height: 1px; background-color: #000; border: none; margin: 25px auto;">

  <!-- Sección: Devoluciones -->
  <section class="devoluciones">
    <h2 class="fs-3" style="letter-spacing: 8px; font-weight: bolder;">DEVOLUCIONES</h2>
    <br><br>
    <p>
      En Urban Vibe puedes devolver tus prendas dentro de los 15 días posteriores a la entrega, siempre que estén sin
      uso y con etiquetas.
      Si tienes discapacidad auditiva, puedes comunicarte con nosotros por chat o correo electrónico y con gusto te
      ayudaremos en todo el proceso.
    </p>
  </section>

  <!-- Separador -->
  <hr style="width: 90%; height: 1px; background-color: #000; border: none; margin: 25px auto;">

  <!-- Sección: Preguntas Frecuentes -->
  <section class="faq">
    <h2 class="mb-5 fs-3" style="letter-spacing: 8px; font-weight: bolder;">FAQ</h2>
    <br><br>
    <div class="faq-columns">
      <div>
        <h4 class="fs-5" style="letter-spacing: 2px; font-weight: bolder;">¿Cómo puedo devolver un producto?</h4>
        <p>
          Devolver un producto es fácil. Solo tienes que contactarnos por correo electrónico, chat o mensaje de texto
          indicando tu número de pedido y el motivo de la devolución. Te enviaremos las instrucciones paso a paso para
          hacer el envío.
          Recuerda que el producto debe estar en buen estado, sin uso y con su empaque original.
        </p>
        <br>
        <h4 class="fs-5" style="letter-spacing: 2px; font-weight: bolder;">¿Cuál es tu política de retorno?</h4>
        <p>
          Aceptamos devoluciones dentro de los 30 días posteriores a la compra. Los productos deben estar sin uso,
          en perfectas condiciones y con su etiqueta original. Si el artículo tiene algún defecto o recibiste un
          producto incorrecto, cubrimos el costo del envío de la vuelta. Nuestro objetivo es que te sientas
          seguro(a) comprando con nosotros.
        </p>
      </div>

      <div>
        <h4 class="fs-5" style="letter-spacing: 2px; font-weight: bolder;">¿Cómo puedo rastrear mi pedido?</h4>
        <p>
          Una vez que tu pedido haya sido enviado, recibirás un correo electrónico o mensaje de texto con un enlace de
          seguimiento.
          Solo debes hacer clic en ese enlace para ver el estado de tu envío en tiempo real. Si necesitas ayuda,
          puedes escribirnos por correo o chat y con gusto te asistiremos.
        </p>
        <br><br>
        <h4 class="fs-5" style="letter-spacing: 2px; font-weight: bolder;">¿Cuáles son las opciones de envío?</h4>
        <p>
          Ofrecemos varias opciones de envío para que elijas la que mejor se adapte a ti. Contamos con envío estándar,
          exprés y envío gratuito en compras superiores a cierto monto. Los tiempos de entrega y costos varían según tu
          ubicación.
          Al finalizar tu compra, podrás seleccionar la opción que prefieras y ver el tiempo estimado de entrega.
        </p>
      </div>
    </div>
  </section>

  <!-- Footer cargado dinámicamente -->
  <div id="footer"></div>

  <script>

    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

    function actualizarCarrito() {
      const cartItemsContainer = document.getElementById('cart-items');
      const cartCount = document.getElementById('cart-count');
      const cartSummary = document.getElementById('cart-summary');

      const totalItems = carrito.reduce((sum, item) => sum + item.cantidad, 0);
      cartCount.textContent = totalItems;

      if (carrito.length === 0) {
        cartItemsContainer.innerHTML = `
        <div class="empty-cart text-center text-muted">
          <i class="fas fa-shopping-cart fa-3x mb-3"></i>
          <h5>Tu carrito está vacío</h5>
          <p>¡Agrega productos para comenzar!</p>
        </div>`;
        cartSummary.style.display = 'none';
        return;
      }
      // Mostrar items del carrito

      cartItemsContainer.innerHTML = carrito.map(item => `
                <div class="cart-item">
                    <div class="row align-items-center">
                        <div class="col-2 ps-4">
                            <img src="img/${item.IdProducto}.jpg" alt="${item.nombre}" class="cart-item-image">
                        </div>
                        <div class="col-6">
                            <div class="cart-item-details ps-5">
                                <h6>${item.nombre}</h6>
                                <p class="text-muted mb-1">${item.marca}</p>
                                <p class="text-success fw-bold mb-0">S/ ${item.precio}</p>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="quantity-controls mb-2" style="transform: translateX(-10px);">
                                <button class="quantity-btn" onclick="cambiarCantidad(${item.IdProducto}, ${item.cantidad - 1})" ${item.cantidad <= 1 ? 'disabled' : ''}>
                                    <i class="fas fa-minus"></i>
                                </button>
                                <span class="fw-bold">${item.cantidad}</span>
                                <button class="quantity-btn" onclick="cambiarCantidad(${item.IdProducto}, ${item.cantidad + 1})" ${item.cantidad >= item.stock ? 'disabled' : ''}>
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <button class="remove-btn" onclick="eliminarDelCarrito(${item.IdProducto})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

      const subtotal = carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0);
      document.getElementById('cart-subtotal').textContent = `S/ ${subtotal.toFixed(2)}`;
      document.getElementById('cart-total').textContent = `S/ ${subtotal.toFixed(2)}`;
      cartSummary.style.display = 'block';

      localStorage.setItem("carrito", JSON.stringify(carrito));
    }

    function cambiarCantidad(idProducto, nuevaCantidad) {
      const item = carrito.find(p => p.IdProducto === idProducto);
      if (!item) return;
      if (nuevaCantidad <= 0) {
        eliminarDelCarrito(idProducto);
      } else if (nuevaCantidad <= item.stock) {
        item.cantidad = nuevaCantidad;
        actualizarCarrito();
      }
    }

    function eliminarDelCarrito(idProducto) {
      carrito = carrito.filter(p => p.IdProducto !== idProducto);
      localStorage.setItem("carrito", JSON.stringify(carrito));
      actualizarCarrito();
    }


    function vaciarCarrito() {
      if (confirm("¿Vaciar todo el carrito?")) {
        carrito = [];
        localStorage.setItem("carrito", JSON.stringify(carrito));
        actualizarCarrito();
      }
    }

    function procederAlPago() {
      if (carrito.length === 0) {
        mostrarNotificacion('Tu carrito está vacío', 'warning');
        return;
      }

      const total = carrito.reduce((sum, item) => sum + (item.precio * item.cantidad), 0);
      alert(`Procediendo al pago por S/ ${total.toFixed(2)}`);

      // Guardar total en localStorage (opcional, si deseas mostrar en pago.html)
      localStorage.setItem('totalCompra', total.toFixed(2));

      // Redirigir a la página de pago
      window.location.href = 'pago.html';
    }

    document.addEventListener("DOMContentLoaded", actualizarCarrito);
  </script>

  <!-- Script para cargar header y footer -->
  <script src="script.js"></script>
</body>

</html>